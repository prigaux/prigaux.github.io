<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="267px" preserveAspectRatio="none" style="width:567px;height:267px;" version="1.1" viewBox="0 0 567 267" width="567px" zoomAndPan="magnify"><defs><filter height="300%" id="f1y17bokae78x9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="382" x="99" y="22.9951">uPortal is trusted by WSO2 Authorization Server</text><rect fill="#DDDDDD" height="215.2266" style="stroke: #A80036; stroke-width: 1.0;" width="256" x="24" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="125.5" y="46.3638">uPortal</text><rect fill="#DDDDDD" height="215.2266" style="stroke: #A80036; stroke-width: 1.0;" width="234" x="322" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="417.5" y="46.3638">WSO2</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="58" x2="58" y1="88.7266" y2="255.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="239" x2="239" y1="88.7266" y2="255.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="409" x2="409" y1="88.7266" y2="255.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="527" x2="527" y1="88.7266" y2="255.5234"/><rect fill="#FEFECE" filter="url(#f1y17bokae78x9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="33" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="40" y="73.4248">main</text><rect fill="#FEFECE" filter="url(#f1y17bokae78x9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="208" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="215" y="73.4248">portlet</text><rect fill="#FEFECE" filter="url(#f1y17bokae78x9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="331" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="338" y="73.4248">Authorization Server</text><rect fill="#FEFECE" filter="url(#f1y17bokae78x9)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="508" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="515" y="73.4248">API</text><polygon fill="#A80036" points="397.5,130.7266,407.5,134.7266,397.5,138.7266,401.5,134.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="403.5" y1="134.7266" y2="134.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="65.5" y="114.7935">grant_type=client_credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="65.5" y="129.9263">client_id &amp; client_secret</text><polygon fill="#A80036" points="69.5,159.9922,59.5,163.9922,69.5,167.9922,65.5,163.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63.5" x2="408.5" y1="163.9922" y2="163.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="75.5" y="159.0591">access_token</text><polygon fill="#A80036" points="227.5,204.125,237.5,208.125,227.5,212.125,231.5,208.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="233.5" y1="208.125" y2="208.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="65.5" y="188.1919">userinfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="65.5" y="203.3247">(including access_token)</text><polygon fill="#A80036" points="515.5,233.3906,525.5,237.3906,515.5,241.3906,519.5,237.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="239.5" x2="521.5" y1="237.3906" y2="237.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="246.5" y="232.4575">bearer access_token</text><!--
@startuml
skinparam ParticipantPadding 5
skinparam BoxPadding 20
hide footbox

title uPortal is trusted by WSO2 Authorization Server

box "uPortal"
	participant main
	participant portlet
end box

box "WSO2"
  participant "Authorization Server"
  participant API
end box

main -> "Authorization Server" : grant_type=client_credentials\nclient_id & client_secret
"Authorization Server" -> main : access_token

main -> portlet : userinfo\n(including access_token)

portlet -> API : bearer access_token
@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>